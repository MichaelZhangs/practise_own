import requests
import execjs

def readJs(word):
    with open("./baidu.js", encoding="utf8") as f:
        jscode = f.read()
    sign = execjs.compile(jscode).call("e", word)

    return sign
def get():

    url = "https://fanyi.baidu.com/v2transapi?from=zh&to=en"
    word = "çŒ«"
    headers = {

        "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/89.0.4389.90 Safari/537.36",
        "sec-ch-ua": 'Google Chrome";v="89", "Chromium";v="89", ";Not A Brand";v="99"',
        "X-Requested-With": "XMLHttpRequest",
        "cookie":'BAIDUID=D1AF1019A5AAAC1E73412ECD51BC7BBD:FG=1; BIDUPSID=D1AF1019A5AAAC1E73412ECD51BC7BBD; PSTM=1566279625; REALTIME_TRANS_SWITCH=1; HISTORY_SWITCH=1; FANYI_WORD_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; Hm_lvt_afd111fa62852d1f37001d1f980b6800=1611491534; Hm_lpvt_afd111fa62852d1f37001d1f980b6800=1611491534; BDUSS=HZuQ2tqNmpvNlJVS1JJdFFQeDh3M1FGbjY1OU1UanZoZzU2d2Z-WXFOSTBRVVpnRVFBQUFBJCQAAAAAAAAAAAEAAACzbbpg0rnN7c3cyfkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADS0HmA0tB5gM; BDUSS_BFESS=HZuQ2tqNmpvNlJVS1JJdFFQeDh3M1FGbjY1OU1UanZoZzU2d2Z-WXFOSTBRVVpnRVFBQUFBJCQAAAAAAAAAAAEAAACzbbpg0rnN7c3cyfkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADS0HmA0tB5gM; H_PS_PSSID=; BAIDUID_BFESS=FB06409F413746E66E542D5BD29A178B:FG=1; BDRCVFR[710W695qCWt]=Yy_VSn8ASxbmg9kPWm8mvqV; delPer=0; BDRCVFR[Ke8kQFs3CYT]=Yy_VSn8ASxbmg9kPWm8mvqV; BDRCVFR[tox4WRQ4-Km]=mk3SLVN4HKm; __yjs_duid=1_bb99411defd8ec3bc72767a91f2949dc1615617791388; BDRCVFR[-pGxjrCMryR]=mk3SLVN4HKm; BDRCVFR[CLK3Lyfkr9D]=mk3SLVN4HKm; BDORZ=FFFB88E999055A3F8A630C64834BD6D0; BCLID=8244284330688950432; BDSFRCVID=8u0OJeC62r8hCPOeja-c77PNH23T533TH6ao8gxfcXFZ0i8XHi0AEG0Pof8g0KubB4DwogKK3gOTH6KF_2uxOjjg8UtVJeC6EG0Ptf8g0f5; H_BDCLCKID_SF=tb4OoCKbJCK3h4-C2DTV2t0e5UIX5-RLf2IDKp7F5l8-hxFwXfoS-PLk-lQIWxnx0eoLahvu3noxOKQphn8B068iybophpOWaDOiWRRN3KJmVPP9bT3v5tj-yfKL2-biWb7M2MbdJqvP_IoG2Mn8M4bb3qOpBtQmJeTxoUJ25DnJhbLGe6_5D5J3eHDs5JtXKD600PK8Kb7VbIbJ5fnkbJkXhPteLqOkJKTB3COTJK3m8lP4yUR-DUI7Qbrr-URfyNReQIO13hcdSR3KLPnpQT8r5bnzXxrK2-jvWbRMab3vOIJTXpO1jxPzBN5thURB2DkO-4bCWJ5TMl5jDh3Mb6ksD-FtqjDDtRKfoI0-f-3bfTuGeKTjhPrMyPRdWMT-0bFHQDnS0MJceJcpqf8bjp8NyaKeLTLetan7_JjOfn3WeROyQlC2MjkRyMuj3xQxtNRy0DnjtpvhHl_mQbJobUPUDUJ9LUkqW2cdot5yBbc8eIna5hjkbfJBQttjQn3hfIkj0DKLtDIbMDIlDT835bD_-U_Xt6oBaKuX3b7EfMTcMh7_bf--DljDXhOZatQBK4jL_K3xBqnDhDOdKPnxy5K_hpOt0UFftI6XMhDEbqbzhCjHQT3m0pQbbN3i-4j055KqWb3cWKOJ8UbSjxRPBTD02-nBat-OQ6npaJ5nJq5nhMJmb67JD-50eGKDJ6FftnkHV-35b5uhb5rnhPF3ebQQXP6-35KH-Jb35MJv5RcHKJ86jp3Fy5jy3a_eJh37JD6yVn3y5JOisxFxMj7iy-cQLtoxJpOy5JbMopvaKq_Ms-3vbURvDP-g3-AqBM5dtjTO2bc_5KnlfMQ_bf--QfbQ0hOhqP-j5JIE3-oJqCD-bKL43H; BCLID_BFESS=8244284330688950432; BDSFRCVID_BFESS=8u0OJeC62r8hCPOeja-c77PNH23T533TH6ao8gxfcXFZ0i8XHi0AEG0Pof8g0KubB4DwogKK3gOTH6KF_2uxOjjg8UtVJeC6EG0Ptf8g0f5; H_BDCLCKID_SF_BFESS=tb4OoCKbJCK3h4-C2DTV2t0e5UIX5-RLf2IDKp7F5l8-hxFwXfoS-PLk-lQIWxnx0eoLahvu3noxOKQphn8B068iybophpOWaDOiWRRN3KJmVPP9bT3v5tj-yfKL2-biWb7M2MbdJqvP_IoG2Mn8M4bb3qOpBtQmJeTxoUJ25DnJhbLGe6_5D5J3eHDs5JtXKD600PK8Kb7VbIbJ5fnkbJkXhPteLqOkJKTB3COTJK3m8lP4yUR-DUI7Qbrr-URfyNReQIO13hcdSR3KLPnpQT8r5bnzXxrK2-jvWbRMab3vOIJTXpO1jxPzBN5thURB2DkO-4bCWJ5TMl5jDh3Mb6ksD-FtqjDDtRKfoI0-f-3bfTuGeKTjhPrMyPRdWMT-0bFHQDnS0MJceJcpqf8bjp8NyaKeLTLetan7_JjOfn3WeROyQlC2MjkRyMuj3xQxtNRy0DnjtpvhHl_mQbJobUPUDUJ9LUkqW2cdot5yBbc8eIna5hjkbfJBQttjQn3hfIkj0DKLtDIbMDIlDT835bD_-U_Xt6oBaKuX3b7EfMTcMh7_bf--DljDXhOZatQBK4jL_K3xBqnDhDOdKPnxy5K_hpOt0UFftI6XMhDEbqbzhCjHQT3m0pQbbN3i-4j055KqWb3cWKOJ8UbSjxRPBTD02-nBat-OQ6npaJ5nJq5nhMJmb67JD-50eGKDJ6FftnkHV-35b5uhb5rnhPF3ebQQXP6-35KH-Jb35MJv5RcHKJ86jp3Fy5jy3a_eJh37JD6yVn3y5JOisxFxMj7iy-cQLtoxJpOy5JbMopvaKq_Ms-3vbURvDP-g3-AqBM5dtjTO2bc_5KnlfMQ_bf--QfbQ0hOhqP-j5JIE3-oJqCD-bKL43H; PSINO=7; BA_HECTOR=008h042k0l8l0g80ve1g6aa6q0q; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1617242496; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1617243337; ab_sr=1.0.0_MmYzYzg4ZjllY2JlMDgxMjY2NjY5YTJiNGNkMjhhY2U2MTE4NjQ1NDlmODVmZGM3ZWQyNDMwNWQyNTY4Y2M5YzA2MWI0Y2Y1ZjYxYTYwOGQ3YmViYzBiZmI4MTY2YmJi; __yjsv5_shitong=1.0_7_3f48306c076e02f8c062ddd16fd8af645c48_300_1617243336944_203.168.17.80_fc395bb8'

    }

    sign = readJs(word)
    formdata  = {
    'from': 'zh',
    'to': 'en',
    'query': word ,
    'transtype': 'realtime',
    'simple_means_flag': 3,
    'sign': sign,
    'token': '79c53b55a52630a80a6b48a3d7a5162c',
    'domain': 'common'
    }

    resp = requests.post(url, headers=headers, data=formdata)
    print(resp.json())

get()